```python
import csv #나이대1122
import pandas as pd

data=pd.read_csv("./marriage.csv",encoding='cp949')
isDaegu=data['행정구역별(시군구)']=='대구광역시'
Daegu=data[isDaegu]
Daegu=Daegu.reset_index()
ManMihon=Daegu.loc[1:15,['남자-미혼']]# 남자 연령별 인구 대구  남자 미혼 총합 382456
WoManMihon=Daegu.loc[1:15,['여자-미혼']]#대구 여자 미혼 279398
mPercent=[]
wPercent=[]
mAge=ManMihon.values
wAge=WoManMihon.values

for i in range(len(mAge)):
    mPercent.append(mAge[i]/382456*100)
    wPercent.append(wAge[i]/279398*100)

    
i#남자 키 여자 키 


data1=pd.read_csv("./men height.csv",encoding='cp949')
data2=pd.read_csv("./women height.csv",encoding='cp949')
height=data1.loc[0:16,['대구·경북']]
mHeight=height.values
mHeight.astype('int')#남자 키

hei=data2['표준편차']=='비율'
heig=data2[hei]
wHeight=heig.iloc[:,3:9]#여자 키
wHeight.rename(columns={'145.5~150.6':'0'},inplace=True)
wHeight.rename(columns={'150.7~155.8':'1'},inplace=True)
wHeight.rename(columns={'155.9~161.0':'2'},inplace=True)
wHeight.rename(columns={'161.1~166.1':'3'},inplace=True)
wHeight.rename(columns={'166.2~171.3':'4'},inplace=True)
wHeight.rename(columns={'171.4~176.6':'5'},inplace=True)

#학력,연봉
data3=pd.read_csv("./education.csv",encoding='cp949')
data4=pd.read_csv("./salary.csv", encoding='cp949')
educ=data3.loc[0:2,['2019']]
eduC=educ.values#학력 퍼센트
sal=data4.loc[0]
salr=sal.iloc[2:8]
salro=salr.values#연봉 퍼센트
money=salro.astype('float')

data5=pd.read_csv("./exercise.csv", encoding='cp949')
exc=data5.loc[10]
exci=exc.values#운동 여부
exercise=float(exci[4])#운동을 하는 사람
non_exer=float(exci[4])#운동을 안 하는 사람
data6=pd.read_csv("./smoke.csv", encoding='cp949')
som=data6.loc[20]
smok=som.values#흡연률
non_smoke=100-float(smok[5])#흡연을 하지 않는 사람
smoking=float(smok[4])#흡연을 하는 사람
data7=pd.read_csv("./acholo.csv", encoding='cp949')
ach=data7.loc[2]
acho=ach.values#음주률
acholo=acho[3]#음주를 하는 사람
non_ach=100-acholo#음주를 안하는 사람


class Condition():  
    def mage(self,se):  
        
        
        if se=='20':
            return mPercent[1]+mPercent[2]
        if se=='30':
            return mPercent[3]+mPercent[4]
        if se=='40':
            return mPercent[5]+mPercent[6]
        if se=='50':
            return mPercent[7]+mPercent[8]+mPercent[9]+mPercent[10]
        +mPercent[11]+mPercent[12]+mPercent[13]+mPercent[14]
        if se=='상관없음':
            return sum(mPercent)
    def wmage(self,se):
        
       
        if se=='20':
            return wPercent[1]+wPercent[2]
        if se=='30':
            return wPercent[3]+wPercent[4]
        if se=='40':
            return wPercent[5]+wPercent[6]
        if se=='50':
            return wPercent[7]+wPercent[8]+wPercent[9]+wPercent[10]+wPercent[11]+wPercent[12]+wPercent[13]+wPercent[14]
        if se=='상관없음':
            return sum(wPercent)
    def mheight(self,se):
        se=int(se)
        
        if se==0:
            return 100
        if 0<se<=155:
            return sum(mHeight[1:6])/mHeight[0]*100
        if 155<se<=165:
            return sum(mHeight[6:8])/mHeight[0]*100
        if 165<se<=175:
            return sum(mHeight[8:10])/mHeight[0]*100
        if 176<se<=185:
            return sum(mHeight[10:12])/mHeight[0]*100
        if 185<se:
            return sum(mHeight[12:16])/mHeight[0]*100
    def wheight(self,se):
        se=int(se)
        
        if se==0:
            return 100
        if 145<se<=150:
            return wHeight['0']
        if 150<se<=155:
            return wHeight['1']
        if 155<se<=160:
            return wHeight['2']
        if 160<se<=165:
            return wHeight['3']
        if 165<se<=170:
            return wHeight['4']
        if 171<se:
            return wHeight['5']
    def sal(self,se):
        
              
        if se=='1500만원 이상':
            return money[0]+money[1]
        if se=='2000만원 이상':
            return money[2]
        if se=='2800만원 이상':
            return money[3]
        if se=='3500만원 이상':
            return money[4]
        if se=='4500만원 이상':
            return money[5]
        if se=='상관없음':
            return 100
    def exc(self,se):
        
        
        
        if se == 'Yes':
            return exercise
        if se == 'No':
            return non_exer
        if se == '상관없음':
            return 100
    def smoke(self,se):
       
        if se == 'Yes':
            return smoking
           
        if se == 'No':
            return non_smoke
            
        if se == '상관없음':
            return 100
    def alc(self,se):
        
        if se == 'Yes':
            return acholo
            
        if se == 'No':
            return non_ach
            
        if se == '상관없음':
            return 100
            
    def result(self,gen,a,b,c,d,e,f):
        if gen=='여자':
            return float(((dm.mage(a))/100)*((dm.mheight(b))/100)*((dm.sal(c))/100)*((dm.exc(d))/100)*((dm.smoke(e))/100)*((dm.alc(f))/100))*100
        if gen=='남자':
            return float(((dm.wmage(a))/100)*(float(dm.wheight(b))/100)*((dm.sal(c))/100)*((dm.exc(d))/100)*((dm.smoke(e))/100)*((dm.alc(f))/100))*100
dm=Condition()

import sys
from PyQt5.QtWidgets import *
from PyQt5 import uic
from matplotlib.backends.backend_qt5agg import FigureCanvas as FigureCanvas
from matplotlib.backends.backend_qt5agg import NavigationToolbar2QT as NavigationToolbar
from matplotlib.figure import Figure
import matplotlib as mat

form_class = uic.loadUiType("graph.ui")[0]
import matplotlib.font_manager as fonm
mat.rcParams['font.family'] = 'NanumGothic'
class WindowClass(QMainWindow, form_class) :
   
    def __init__(self) :
        super().__init__()
        self.setupUi(self)

       
        self.gender_man.clicked.connect(self.groupboxRadFunction)
        self.gender_woman.clicked.connect(self.groupboxRadFunction)
        
        self.exer.clicked.connect(self.exeFunction)
        self.non_exer.clicked.connect(self.exeFunction)
        self.noP.clicked.connect(self.exeFunction)
        
        self.smo.clicked.connect(self.smoFunction)
        self.non_smo.clicked.connect(self.smoFunction)
        self.noP2.clicked.connect(self.smoFunction)
        
        self.drink.clicked.connect(self.driFunction)
        self.non_drink.clicked.connect(self.driFunction)
        self.noP3.clicked.connect(self.driFunction)
        
        self.push3.clicked.connect(self.appendTextFunction)
        

    def groupboxRadFunction(self) :
        
        if self.gender_man.isChecked() : return '남자' 
        elif self.gender_woman.isChecked() : return '여자'
    def exeFunction(self):
        if self.exer.isChecked() : return 'Yes'
        elif self.non_exer.isChecked() : return 'No'
        elif self.noP.isChecked(): return '상관없음'
    def smoFunction(self):
        if self.smo.isChecked() : return 'Yes'
        elif self.non_smo.isChecked() : return 'No'
        elif self.noP2.isChecked(): return '상관없음'
    def driFunction(self):
        if self.drink.isChecked() : return 'Yes'
        elif self.non_drink.isChecked() : return 'No'
        elif self.noP3.isChecked(): return '상관없음'
    def appendTextFunction(self) :
        ageB=self.ageBox.currentText()
        keyT=self.key_Text.toPlainText()
        monB=self.moneyBox.currentText()
        
        self.main_widget = QWidget()
        self.setCentralWidget(self.main_widget)
        
        canvas = FigureCanvas(Figure(figsize=(4, 3)))
        vbox = QVBoxLayout(self.main_widget)
        vbox.addWidget(canvas)
        
        self.addToolBar(NavigationToolbar(canvas, self))
        
        
        
        agePercent=(1*(float(ageB)/100))*100
        keyPercent=((agePercent/100)*(dm.mheight(keyT)/100))*100
        salPercent=((keyPercent/100)*(dm.sal(monB)/100))*100
        excPercent=((salPercent/100)*(dm.exc(self.exeFunction())/100))*100
        smoPercent=((excPercent/100)*(dm.smoke(self.smoFunction())/100))*100
        driPercent=((smoPercent/100)*(dm.alc(self.driFunction())/100))*100
        self.ax = canvas.figure.subplots()
        self.ax.plot(['시작', '나이','키','연봉','운동','흡연','술'], [100,agePercent, keyPercent,salPercent,excPercent,smoPercent,driPercent], '-')

        self.setWindowTitle('Matplotlib in PyQt5')
        self.setGeometry(300, 100, 600, 400)
        self.show()

       
        
        
        


if __name__ == "__main__" :
    app = QApplication(sys.argv)
    myWindow = WindowClass()
    myWindow.show()
    app.exec_()
```
    
